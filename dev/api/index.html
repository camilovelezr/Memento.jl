<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · Memento.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../assets/invenia.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Memento.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../man/intro/">Introduction</a></li><li><a class="toctext" href="../man/loggers/">Loggers</a></li><li><a class="toctext" href="../man/handlers/">Handlers</a></li><li><a class="toctext" href="../man/formatters/">Formatters</a></li><li><a class="toctext" href="../man/records/">Records</a></li><li><a class="toctext" href="../man/io/">IO</a></li><li><a class="toctext" href="../man/conclusion/">Conclusion</a></li></ul></li><li><span class="toctext">FAQ</span><ul><li><a class="toctext" href="../faq/another-logging-lib/">Another logging library?</a></li><li><a class="toctext" href="../faq/change-colors/">Changing colors?</a></li><li><a class="toctext" href="../faq/config-recipes/">Configuring Logging in Applications?</a></li><li><a class="toctext" href="../faq/logging-to-syslog/">Logging to Syslog?</a></li><li><a class="toctext" href="../faq/json-formatting/">Producing JSON logs?</a></li><li><a class="toctext" href="../faq/pkg-usage/">Using Memento in Julia packages?</a></li><li><a class="toctext" href="../faq/testing/">How do I test my logging behaviour?</a></li></ul></li><li class="current"><a class="toctext" href>API</a><ul class="internal"><li><a class="toctext" href="#Configuration-1">Configuration</a></li><li><a class="toctext" href="#Loggers-1">Loggers</a></li><li><a class="toctext" href="#Handlers-1">Handlers</a></li><li><a class="toctext" href="#Formatters-1">Formatters</a></li><li><a class="toctext" href="#Records-1">Records</a></li><li><a class="toctext" href="#IO-1">IO</a></li><li><a class="toctext" href="#Memento.TestUtils-1">Memento.TestUtils</a></li><li><a class="toctext" href="#Misc-1">Misc</a></li></ul></li><li><a class="toctext" href="../contributing/">Contributing</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>API</a></li></ul><a class="edit-page" href="https://github.com/invenia/Memento.jl/blob/master/docs/src/api.md#L"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>API</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Public-1" href="#Public-1">Public</a></h1><h2><a class="nav-anchor" id="Configuration-1" href="#Configuration-1">Configuration</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.config!" href="#Memento.config!"><code>Memento.config!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">config!([logger], level; fmt::AbstractString, levels::Dict{AbstractString, Int}, colorized::Bool) -&gt; Logger</code></pre><p>Sets the <code>Memento._log_levels</code>, creates a default root logger with a <a href="#Memento.DefaultHandler"><code>DefaultHandler</code></a> that prints to stdout.</p><p><strong>Arguments</strong></p><ul><li>&#39;logger::Union{Logger, AbstractString}`: The logger to configure (optional)</li><li><code>level::AbstractString</code>: the minimum logging level to log message to the root logger (required).</li></ul><p><strong>Keywords</strong></p><ul><li><code>fmt::AbstractString</code>: a format string to pass to the <a href="#Memento.DefaultFormatter"><code>DefaultFormatter</code></a> which describes   how to log messages (defaults to <code>Memento.DEFAULT_FMT_STRING</code>).   By default, format tokens should match the <a href="#Memento.DefaultRecord"><code>DefaultRecord</code></a> fieldnames.</li><li><code>levels</code>: the default logging levels to use (defaults to <code>Memento._log_levels</code>).</li><li><code>colorized</code>: whether or not the message to stdout should be colorized.</li><li><code>recursive</code>: whether or not to recursive set the level of all child loggers.</li><li><code>substitute</code>: whether or not to substitute the global logger with Memento (only supported on julia 0.7).</li><li><code>propagate</code>: whether the logger should also send messages to parent loggers (default: true)</li></ul><p><strong>Returns</strong></p><ul><li><code>Logger</code>: the logger passed in, or the root logger.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/config.jl#LL2-L25">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.register" href="#Memento.register"><code>Memento.register</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">register(::Logger)</code></pre><p>Register an existing logger with Memento if it has not already been registered.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL133-L137">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.reset!" href="#Memento.reset!"><code>Memento.reset!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">reset!()</code></pre><p>Removes all registered loggers and reinitializes the root logger without any handlers.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/config.jl#LL53-L58">source</a></section><h2><a class="nav-anchor" id="Loggers-1" href="#Loggers-1">Loggers</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.Logger" href="#Memento.Logger"><code>Memento.Logger</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Logger</code></pre><p>A <code>Logger</code> is responsible for converting msg strings into <code>Records</code> which are then passed to each handler. By default loggers propagate their message to their parent loggers.</p><p><strong>Fields</strong></p><ul><li><code>name::AbstractString</code>: is the name of the logger (required).</li><li><code>handlers::Dict{Any, Handler}</code>: is a collection of <code>Handler</code>s (defaults to empty <code>Dict</code>).</li><li><code>level::AbstractString</code>: the current minimum logging level for the logger to  log message to handlers (defaults to &quot;not_set&quot;).</li><li><code>levels::Dict{AbstractString, Int}</code>: a mapping of available logging levels to their   relative priority (represented as integer values) (defaults to using <code>Memento._log_levels</code>)</li><li><code>record::Type</code>: the <code>Record</code> type that should be produced by this logger   (defaults to <code>DefaultRecord</code>).</li><li><code>propagate::Bool</code>: whether or not this logger should propagate its message to its parent   (defaults to <code>true</code>).</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL1-L19">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getlogger" href="#Memento.getlogger"><code>Memento.getlogger</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getlogger(name::Module) -&gt; Logger</code></pre><p>Converts the <code>Module</code> to a <code>String</code> and calls <code>get_logger(name::String)</code>.</p><p><strong>Arguments</strong></p><ul><li><code>name::Module</code>: the Module a logger should be associated</li></ul><p><strong>Returns</strong></p><ul><li><code>Logger</code>: the logger associated with the provided Module.</li></ul><p>Returns the logger.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL207-L219">source</a><div><div><pre><code class="language-none">getlogger(name=&quot;root&quot;) -&gt; Logger</code></pre><p>If the logger or its parents do not exist then they are initialized with no handlers and not set.</p><p><strong>Arguments</strong></p><ul><li><code>name</code>: the name of the logger (defaults to &quot;root&quot;)</li></ul><p><strong>Returns</strong></p><ul><li><code>Logger</code>: the logger.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL222-L233">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.log-Tuple{Logger,Record}" href="#Base.log-Tuple{Logger,Record}"><code>Base.log</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">log(logger::Logger, rec::Record)</code></pre><p>Logs <code>rec</code> to all its logger handlers. If this logger is not the root logger and <code>logger.propagate</code> is <code>true</code> then the parent logger is called.</p><p>NOTE: This method calls all handlers asynchronously and is recursive, so you should call it with a <code>@sync</code> in order to synchronize all handler tasks.</p><p><strong>Arguments</strong></p><ul><li><code>logger::Logger</code>: the logger to log <code>args</code> to.</li><li><code>rec::Record</code>: a <code>Record</code> to log</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL346-L358">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.log-Tuple{Logger,AbstractString,AbstractString}" href="#Base.log-Tuple{Logger,AbstractString,AbstractString}"><code>Base.log</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">log(logger::Logger, level::AbstractString, msg::AbstractString)</code></pre><p>Creates a <code>Record</code> with the logger name, level, levelnum and message and calls the other <code>log</code> method (which may recursively call itself on parent loggers with the created <code>Record</code>).</p><p><strong>Arguments</strong></p><ul><li><code>logger::Logger</code>: the logger to log to.</li><li><code>level::AbstractString</code>: the log level as a <code>String</code></li><li><code>msg::AbstractString</code>: the msg to log as a <code>String</code></li></ul><p><strong>Throws</strong></p><ul><li><code>CompositeException</code>: may be thrown if an error occurs in one of the handlers  (which are run with <code>@async</code>)</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL374-L389">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.log-Tuple{Function,Logger,AbstractString}" href="#Base.log-Tuple{Function,Logger,AbstractString}"><code>Base.log</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">log(::Function, ::Logger, ::AbstractString)</code></pre><p>Same as <code>log(logger, level, msg)</code>, but in this case the message can be a function that returns the log message string.</p><p><strong>Arguments</strong></p><ul><li><code>msg::Function</code>: a function that returns a message <code>String</code></li><li><code>logger::Logger</code>: the logger to log to</li><li><code>level::AbstractString</code>: the log level as a <code>String</code></li></ul><p><strong>Throws</strong></p><ul><li><code>CompositeException</code>: may be thrown if an error occurs in one of the handlers  (which are run with <code>@async</code>)</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL392-L406">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getlevel-Tuple{Logger}" href="#Memento.getlevel-Tuple{Logger}"><code>Memento.getlevel</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">getlevel(::Logger) -&gt; AbstractString</code></pre><p>Returns the current logger level.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL119-L123">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getlevels-Tuple{Logger}" href="#Memento.getlevels-Tuple{Logger}"><code>Memento.getlevels</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">getlevels(::Logger) -&gt; Dict</code></pre><p>Get the available log levels for a logger and their associated priorities.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL126-L130">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.setlevel!-Tuple{Logger,AbstractString}" href="#Memento.setlevel!-Tuple{Logger,AbstractString}"><code>Memento.setlevel!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">setlevel!(logger::Logger, level::AbstractString; recursive=false)</code></pre><p>Changes what level this logger should log at.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL296-L300">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.setlevel!-Tuple{Function,Logger,AbstractString}" href="#Memento.setlevel!-Tuple{Function,Logger,AbstractString}"><code>Memento.setlevel!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">setlevel!(f::Function, logger::Logger, level::AbstractString; recursive=false)</code></pre><p>Temporarily change the level a logger will log at for the duration of the function <code>f</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL313-L317">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.gethandlers" href="#Memento.gethandlers"><code>Memento.gethandlers</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">gethandlers(logger::Logger)</code></pre><p>Returns logger.handlers</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL273-L277">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.push!-Tuple{Logger,Handler}" href="#Base.push!-Tuple{Logger,Handler}"><code>Base.push!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">push!(logger::Logger, handler::Handler)</code></pre><p>Adds a new <code>Handler</code> to the logger.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL280-L284">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getfilters-Tuple{Logger}" href="#Memento.getfilters-Tuple{Logger}"><code>Memento.getfilters</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">getfilters(logger::Logger) -&gt; Array{Filter}</code></pre><p>Returns the filters for the logger.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL259-L263">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.push!-Tuple{Logger,Memento.Filter}" href="#Base.push!-Tuple{Logger,Memento.Filter}"><code>Base.push!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">push!(logger::Logger, filter::Memento.Filter)</code></pre><p>Adds an new <code>Filter</code> to the logger.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL266-L270">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getpath" href="#Memento.getpath"><code>Memento.getpath</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getpath(logger::Logger) -&gt; Vector{Logger}</code></pre><p>Returns the path of logger from the root logger.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL150-L154">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getchildren" href="#Memento.getchildren"><code>Memento.getchildren</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getchildren(name)</code></pre><p>Takes a string representing the name of a logger and returns its children. Child loggers are extracted assuming a naming convention of &quot;foo.bar.baz&quot;, where &quot;foo.bar.baz&quot; is the child of &quot;foo.bar&quot; which is the child of &quot;foo&quot;.</p><p><strong>Arguments</strong></p><ul><li><code>name</code>: the name of the logger.</li></ul><p><strong>Returns</strong></p><ul><li><code>Vector{Logger}</code></li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL186-L198">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.isroot" href="#Memento.isroot"><code>Memento.isroot</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">isroot(::Logger)</code></pre><p>Returns true if <code>logger.name</code>is &quot;root&quot; or &quot;&quot;</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL80-L84">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.isset" href="#Memento.isset"><code>Memento.isset</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">isset(::Logger)</code></pre><p>Returns true or false as to whether the logger is set. (ie: logger.level != &quot;not_set&quot;)</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL87-L91">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.ispropagating" href="#Memento.ispropagating"><code>Memento.ispropagating</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">ispropagating(::Logger)</code></pre><p>Returns true or false as to whether the logger is propagating.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL94-L98">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.setpropagating!" href="#Memento.setpropagating!"><code>Memento.setpropagating!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setpropagating!([::Function], ::Logger, [::Bool])</code></pre><p>Sets the logger to be propagating or not (Defaults to true).</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL101-L105">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.setrecord!" href="#Memento.setrecord!"><code>Memento.setrecord!</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setrecord!(logger::Logger, rec::Type{R}) where {R&lt;:Record}</code></pre><p>Sets the record type for the logger.</p><p><strong>Arguments</strong></p><ul><li><code>logger::Logger</code>: the logger to set.</li><li><code>rec::Record</code>: A <code>Record</code> type to use for logging messages (ie: <code>DefaultRecord</code>).</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL244-L252">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.trace" href="#Memento.trace"><code>Memento.trace</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">trace(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the trace level.</p><pre><code class="language-none">trace(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the trace level.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL492-L500">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.debug" href="#Memento.debug"><code>Memento.debug</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">debug(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the debug level.</p><pre><code class="language-none">debug(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the debug level.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL493-L501">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.info" href="#Memento.info"><code>Memento.info</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">info(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the info level.</p><pre><code class="language-none">info(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the info level.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL494-L502">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.notice" href="#Memento.notice"><code>Memento.notice</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">notice(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the notice level.</p><pre><code class="language-none">notice(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the notice level.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL495-L503">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.warn" href="#Memento.warn"><code>Memento.warn</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">warn(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the warn level.</p><pre><code class="language-none">warn(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the warn level.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL496-L504">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.error" href="#Base.error"><code>Base.error</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">error(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the error level and throws an <code>ErrorException</code> with that message</p><pre><code class="language-none">error(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the error level and throws an <code>ErrorException</code> with that message.</p><pre><code class="language-none">error(logger::Logger, exc::Exception)</code></pre><p>Calls <code>error(logger, msg)</code> with the contents of the <code>Exception</code>, then throw the <code>Exception</code>. If the exception is a <code>CompositeException</code>, each contained exception is logged, then the <code>CompositeException</code> is thrown.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL513-L526">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.critical" href="#Memento.critical"><code>Memento.critical</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">critical(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the critical level and throws an <code>ErrorException</code> with that message</p><pre><code class="language-none">critical(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the critical level and throws an <code>ErrorException</code> with that message.</p><pre><code class="language-none">critical(logger::Logger, exc::Exception)</code></pre><p>Calls <code>critical(logger, msg)</code> with the contents of the <code>Exception</code>, then throw the <code>Exception</code>. If the exception is a <code>CompositeException</code>, each contained exception is logged, then the <code>CompositeException</code> is thrown.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL514-L527">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.alert" href="#Memento.alert"><code>Memento.alert</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">alert(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the alert level and throws an <code>ErrorException</code> with that message</p><pre><code class="language-none">alert(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the alert level and throws an <code>ErrorException</code> with that message.</p><pre><code class="language-none">alert(logger::Logger, exc::Exception)</code></pre><p>Calls <code>alert(logger, msg)</code> with the contents of the <code>Exception</code>, then throw the <code>Exception</code>. If the exception is a <code>CompositeException</code>, each contained exception is logged, then the <code>CompositeException</code> is thrown.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL515-L528">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.emergency" href="#Memento.emergency"><code>Memento.emergency</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">emergency(logger::Logger, msg::AbstractString)</code></pre><p>Logs the message at the emergency level and throws an <code>ErrorException</code> with that message</p><pre><code class="language-none">emergency(msg::Function, logger::Logger)</code></pre><p>Logs the message produced by the provided function at the emergency level and throws an <code>ErrorException</code> with that message.</p><pre><code class="language-none">emergency(logger::Logger, exc::Exception)</code></pre><p>Calls <code>emergency(logger, msg)</code> with the contents of the <code>Exception</code>, then throw the <code>Exception</code>. If the exception is a <code>CompositeException</code>, each contained exception is logged, then the <code>CompositeException</code> is thrown.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/loggers.jl#LL516-L529">source</a></section><h2><a class="nav-anchor" id="Handlers-1" href="#Handlers-1">Handlers</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.Handler" href="#Memento.Handler"><code>Memento.Handler</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Handler</code></pre><p>Manage formatting <code>Record</code>s and logging the resulting <code>String</code>. All <code>Handler</code> subtypes must implement at least 1 <code>log(::Handler, ::Record)</code> method.</p><p>NOTE: Handlers can be useful if you need to special case logging behaviour based on the <code>Formatter</code>, <code>IO</code> and/or <code>Record</code> types.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/handlers.jl#LL1-L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.DefaultHandler" href="#Memento.DefaultHandler"><code>Memento.DefaultHandler</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">DefaultHanlder</code></pre><p>The DefaultHandler manages any <code>Formatter</code>, <code>IO</code> and <code>Record</code>.</p><p>Fields:</p><ul><li>fmt: a <code>Formatter</code> for converting <code>Record</code>s to <code>Strings</code></li><li>io: an <code>IO</code> type for printing <code>String</code> to.</li><li>opts: a dictionary of optional arguments such as :is<em>colorized and :colors   Ex) ```Dict{Symbol, Any}(           :is</em>colorized =&gt; true,           :opts[:colors] =&gt; Dict{AbstractString, Symbol}(               &quot;debug&quot; =&gt; :blue,               &quot;info&quot; =&gt; :green,               ...           )       )```</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/handlers.jl#LL59-L76">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.Escalator" href="#Memento.Escalator"><code>Memento.Escalator</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Escalator(fmt=DefaultFormatter(); level=&quot;warn&quot;, levels=nothing)</code></pre><p>Escalates any logs it sees above a certain <code>level</code> and throws an <code>EscalationError</code>.</p><p><strong>Arguments</strong></p><ul><li><code>fmt::Formatter</code>: for converting <code>Record</code>s to error messages <code>Strings</code></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>level</code>: threshold level for when to error, otherwise this is a no-op</li><li><code>levels</code>: an alternate levels dictionary if we&#39;re considering non-default levels</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/handlers.jl#LL230-L242">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.log-Tuple{Handler,Record}" href="#Base.log-Tuple{Handler,Record}"><code>Base.log</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">log(handler::Handler, rec::Record)</code></pre><p>Checks the <code>Handler</code> filters and if they all pass then <code>emit</code> the record.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/handlers.jl#LL36-L41">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getlevel-Tuple{Handler}" href="#Memento.getlevel-Tuple{Handler}"><code>Memento.getlevel</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">getlevel(::Handler) -&gt; AbstractString</code></pre><p>Returns the current handler level. The default is &quot;not_set&quot;.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/handlers.jl#LL12-L17">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getfilters-Tuple{Handler}" href="#Memento.getfilters-Tuple{Handler}"><code>Memento.getfilters</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">getfilters(handler::Handler) -&gt; Array{Memento.Filter}</code></pre><p>Returns the filters for the handler. The default is the standard level-based filter.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/handlers.jl#LL28-L33">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.emit" href="#Memento.emit"><code>Memento.emit</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">emit{F, O}(handler::DefaultHandler{F ,O}, rec::Record) where {F&lt;:Formatter, O&lt;:IO}</code></pre><p>Handles printing any <code>Record</code> with any <code>Formatter</code> and <code>IO</code> types.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/handlers.jl#LL201-L205">source</a><div><div><pre><code class="language-none">emit(
    handler::DefaultHandler{F, O},
    rec::Record
) where {F&lt;:Formatter, O&lt;:Syslogs.Syslog}</code></pre><p>Handles printing any records with any <code>Formatter</code> and a <code>Syslog</code> <code>IO</code> type.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/syslog.jl#LL3-L10">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.setlevel!-Tuple{DefaultHandler,AbstractString}" href="#Memento.setlevel!-Tuple{DefaultHandler,AbstractString}"><code>Memento.setlevel!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">setlevel!(handler::DefaultHandler, level::AbstractString)</code></pre><p>Sets the minimum level required to <code>emit</code> the record from the handler.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/handlers.jl#LL187-L191">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.push!-Tuple{DefaultHandler,Memento.Filter}" href="#Base.push!-Tuple{DefaultHandler,Memento.Filter}"><code>Base.push!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">push!(handler::DefaultHandler, filter::Memento.Filter)</code></pre><p>Adds an new <code>Filter</code> to the handler.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/handlers.jl#LL174-L178">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getlevels-Tuple{Handler}" href="#Memento.getlevels-Tuple{Handler}"><code>Memento.getlevels</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">getlevels(::Handler) -&gt; Union{Dict, Nothing}</code></pre><p>Get the available log levels for a handler and their associated priorities. The default is <code>nothing</code>, for handlers which do not perform level-based filtering.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/handlers.jl#LL20-L25">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.setup_opts" href="#Memento.setup_opts"><code>Memento.setup_opts</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">setup_opts(opts) -&gt; Dict</code></pre><p>Sets the default :colors if <code>opts[:is_colorized] == true</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/handlers.jl#LL144-L148">source</a></section><h2><a class="nav-anchor" id="Formatters-1" href="#Formatters-1">Formatters</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.Formatter" href="#Memento.Formatter"><code>Memento.Formatter</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Formatter</code></pre><p>A <code>Formatter</code> must implement a <code>format(::Formatter, ::Record)</code> method which takes a <code>Record</code> and returns a <code>String</code> representation of the log <code>Record</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/formatters.jl#LL1-L7">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.DefaultFormatter" href="#Memento.DefaultFormatter"><code>Memento.DefaultFormatter</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">DefaultFormatter</code></pre><p>The <code>DefaultFormatter</code> uses a simple format string to build the log message. Fields from the <code>Record</code> to be used should be wrapped curly brackets.</p><p>Ex) &quot;[{level} | {name}]: {msg}&quot; will print message of the form [info | root]: my info message. [warn | root]: my warning message. ...</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/formatters.jl#LL13-L24">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.DictFormatter" href="#Memento.DictFormatter"><code>Memento.DictFormatter</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">DictFormatter([aliases, serializer])</code></pre><p>Formats the record to Dict that is amenable to serialization formats such as JSON and then runs the serializer function on the produced dictionary.</p><p><strong>Arguments</strong></p><ul><li><code>aliases::Dict{Symbol, Symbol}</code>: Mapping where the keys represent aliases and values</li></ul><p>represent existing record attributes to include in the dictionary (defaults to all attributes).</p><ul><li><code>serializer::Function</code>: A function that takes a Dictionary and returns a string. Defaults</li></ul><p>to <code>string(dict)</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/formatters.jl#LL105-L117">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.format" href="#Memento.format"><code>Memento.format</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">format(::DefaultFormatter, ::Record) -&gt; String</code></pre><p>Iteratively replaces entries in the format string with the appropriate fields in the <code>Record</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/formatters.jl#LL49-L54">source</a><div><div><pre><code class="language-none">format(::DictFormatter, ::Record) -&gt; Dict</code></pre><p>Converts :date, :lookup and :stacktrace to strings and dicts respectively.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/formatters.jl#LL122-L126">source</a></section><h2><a class="nav-anchor" id="Records-1" href="#Records-1">Records</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.Record" href="#Memento.Record"><code>Memento.Record</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Record</code></pre><p>A dictionary-like container with <code>Symbol</code> keys used to store information about a log events including the msg, date, level, stacktrace, etc. <code>Formatter</code>s use <code>Records</code> to format log message strings.</p><p>You can access the properties of a <code>Record</code> by using <code>getproperty</code> (ie: record.msg).</p><p>Subtypes of <code>Record</code> should implement <code>getproperty(::MyRecord, ::Symbol)</code> and key-value pair iteration.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/records.jl#LL51-L62">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getlevel-Tuple{Record}" href="#Memento.getlevel-Tuple{Record}"><code>Memento.getlevel</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">getlevel(::Record) -&gt; AbstractString</code></pre><p>Returns the record level.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/records.jl#LL65-L69">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.DefaultRecord" href="#Memento.DefaultRecord"><code>Memento.DefaultRecord</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">DefaultRecord &lt;: AttributeRecord</code></pre><p>Stores the most common logging event information. NOTE: if you&#39;d like more logging attributes you can:</p><ol><li>add them to DefaultRecord and open a pull request if the new attributes are applicable to most applications.</li><li>make a custom <code>Record</code> type.</li></ol><p><strong>Fields</strong></p><ul><li><code>date::Attribute{ZonedDateTime}</code>: timestamp of log event</li><li><code>level::Attribute{AbstractString}</code>: log level</li><li><code>levelnum::Attribute{Int}</code>: integer value for log level</li><li><code>msg::Attribute{AbstractString}</code>: the log message itself</li><li><code>name::Attribute{AbstractString}</code>: the name of the source logger</li><li><code>pid::Attribute{Int}</code>: the pid of where the log event occured</li><li><code>lookup::Attribute{StackFrame}</code>: the top StackFrame</li><li><code>stacktrace::Attribute{StackTrace}</code>: a stacktrace</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/records.jl#LL113-L131">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.Attribute" href="#Memento.Attribute"><code>Memento.Attribute</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Attribute</code></pre><p>An <code>Attribute</code> represents a lazily evaluated field in a log <code>Record</code>.</p><p><strong>Fields</strong></p><ul><li><code>f::Function</code>: A function to evaluate in order to get a value if one is not set.</li><li><code>x::Union{Some{T}, Nothing}</code>: A value that may or may not exist yet.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/records.jl#LL1-L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.AttributeRecord" href="#Memento.AttributeRecord"><code>Memento.AttributeRecord</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">AttributeRecord &lt;: Record</code></pre><p>A <code>Record</code> which stores its properties as <code>Attribute</code>s for lazy evaluation.</p><p>Calling <code>getproperty</code> or iterating will evaluate and cache the properties accessed.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/records.jl#LL72-L78">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.get-Tuple{Memento.Attribute}" href="#Base.get-Tuple{Memento.Attribute}"><code>Base.get</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">get(attr::Attribute{T}) -&gt; T</code></pre><p>Run set <code>attr.x</code> to the output of <code>attr.f</code> if <code>attr.x</code> is not already set. We then return the value stored in <code>attr.x</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/records.jl#LL33-L38">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Dict-Tuple{Record}" href="#Base.Dict-Tuple{Record}"><code>Base.Dict</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-julia">Dict(rec::Record)</code></pre><p>Extracts the <code>Record</code> and its properties into a <code>Dict</code></p><div class="admonition warn"><div class="admonition-title">Warn</div><div class="admonition-text"><p>On <code>AttributeRecord</code>s this may be an expensive operation, so you probably don&#39;t want to do this for every log record unless you&#39;re planning on using every <code>Attribute</code>.</p></div></div></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/records.jl#LL100-L109">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.get_trace" href="#Memento.get_trace"><code>Memento.get_trace</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">get_trace()</code></pre><p>Returns the <code>StackTrace</code> with <code>StackFrame</code>s from the <code>Memento</code> module filtered out.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/records.jl#LL169-L173">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.get_lookup" href="#Memento.get_lookup"><code>Memento.get_lookup</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">get_lookup(trace::Attribute{StackTrace})</code></pre><p>Returns the top <code>StackFrame</code> for <code>trace</code> if it isn&#39;t empty.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/records.jl#LL181-L185">source</a></section><h2><a class="nav-anchor" id="IO-1" href="#IO-1">IO</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.FileRoller" href="#Memento.FileRoller"><code>Memento.FileRoller</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">FileRoller &lt;: IO</code></pre><p>Is responsible for managing a rolling log file.</p><p><strong>Fields</strong></p><ul><li><code>prefix::AbstractString</code>: filename prefix for the log.</li><li><code>folder::AbstractString</code>: directory where the log should be written.</li><li><code>filepath::AbstractString</code>: the full filepath for the log</li><li><code>file::IO</code>: the current file IO handle</li><li><code>byteswritten::Int64</code>: keeps track of how many bytes have been written to the current file.</li><li><code>max_sz::Int</code>: the maximum number of bytes written to a file before rolling over to another.</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/io.jl#LL3-L15">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getfile" href="#Memento.getfile"><code>Memento.getfile</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getfile(folder::AbstractString, prefix::AbstractString) -&gt; String, IO</code></pre><p>Grabs the next log file.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/io.jl#LL38-L42">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.getsuffix" href="#Memento.getsuffix"><code>Memento.getsuffix</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">getsuffix(::Integer) -&gt; String</code></pre><p>Formats the nth file suffix.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/io.jl#LL25-L29">source</a></section><h2><a class="nav-anchor" id="Memento.TestUtils-1" href="#Memento.TestUtils-1">Memento.TestUtils</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.TestUtils.@test_log" href="#Memento.TestUtils.@test_log"><code>Memento.TestUtils.@test_log</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-julia">@test_log(logger, level, msg, expr)</code></pre><p>Test that the expression <code>expr</code> emits a record in the <code>logger</code> with the specified <code>level</code> string and contains the <code>msg</code> string or matches the <code>msg</code> regular expression. If <code>msg</code> is a boolean function, tests whether <code>msg(output)</code> returns true. If <code>msg</code> is a tuple or array, checks that the output contains/matches each item in <code>msg</code>. Returns the result of evaluating <code>expr</code>.</p><p>This will temporarily add a test handler to the <code>logger</code> which will always be removed after executing the expression.</p><p>See also <a href="#Memento.TestUtils.@test_nolog"><code>@test_nolog</code></a> to check for the absence of a record.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; using Memento, Memento.TestUtils

julia&gt; logger = getlogger(&quot;test_log&quot;);

julia&gt; m = &quot;Hello World!&quot;;

julia&gt; @test_log logger &quot;info&quot; &quot;Hello&quot; info(logger, m)

julia&gt; @test_log logger &quot;info&quot; r&quot;^Hello&quot; info(logger, m)

julia&gt; @test_log logger &quot;info&quot; (&quot;Hello&quot;, r&quot;World!$&quot;) info(logger, m)  # All elements occursin</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/memento_test.jl#LL21-L49">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.TestUtils.@test_nolog" href="#Memento.TestUtils.@test_nolog"><code>Memento.TestUtils.@test_nolog</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-julia">@test_nolog(logger, level, msg, expr)</code></pre><p>Test that the expression <code>expr</code> does not emit a record in the <code>logger</code> with the specified <code>level</code> string containing the <code>msg</code> string or matching the <code>msg</code> regular expression.</p><p>See also <a href="#Memento.TestUtils.@test_log"><code>@test_log</code></a> for further details.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/memento_test.jl#LL74-L81">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Test.@test_warn" href="#Test.@test_warn"><code>Test.@test_warn</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-julia">@test_warn(logger, msg, expr)</code></pre><p>Convenience macro that calls <a href="#Memento.TestUtils.@test_log"><code>@test_log(logger, &quot;warn&quot;, msg, expr)</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/memento_test.jl#LL103-L107">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Test.@test_throws" href="#Test.@test_throws"><code>Test.@test_throws</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-julia">@test_throws(logger, extype, expr)</code></pre><p>Disables the <code>logger</code> and calls <a href="https://docs.julialang.org/en/v1/stdlib/Test/#Test.@test_throws"><code>@test_throws extype expr</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/memento_test.jl#LL114-L118">source</a></section><h2><a class="nav-anchor" id="Misc-1" href="#Misc-1">Misc</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.Filter" href="#Memento.Filter"><code>Memento.Filter</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Filter</code></pre><p>A wrapper around a function that takes a log <code>Record</code> and returns a bool whether to skip logging it.</p><p><strong>Fields</strong></p><p><code>f::Function</code>: a function that should return a bool given a <code>Record</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/filters.jl#LL1-L9">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.EscalationError" href="#Memento.EscalationError"><code>Memento.EscalationError</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">EscalationError(msg)</code></pre><p>An error type for log records that have been escalated to errors.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/exceptions.jl#LL17-L21">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Memento.LoggerSerializationError" href="#Memento.LoggerSerializationError"><code>Memento.LoggerSerializationError</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">LoggerSerializationError(logger::Logger)</code></pre><p>Provides a helpful error message when a logger cannot be serialized.</p></div></div><a class="source-link" target="_blank" href="https://github.com/invenia/Memento.jl/blob/fd316602f63bd5001b9f7c30f0c964a6adc8bff1/src/exceptions.jl#LL1-L5">source</a></section><footer><hr/><a class="previous" href="../faq/testing/"><span class="direction">Previous</span><span class="title">How do I test my logging behaviour?</span></a><a class="next" href="../contributing/"><span class="direction">Next</span><span class="title">Contributing</span></a></footer></article></body></html>
