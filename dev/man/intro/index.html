<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Introduction · Memento.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../../assets/invenia.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Memento.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Manual</span><ul><li class="current"><a class="toctext" href>Introduction</a><ul class="internal"><li><a class="toctext" href="#Logging-levels-1">Logging levels</a></li><li><a class="toctext" href="#Formatting-logs-1">Formatting logs</a></li><li><a class="toctext" href="#Architecture-1">Architecture</a></li></ul></li><li><a class="toctext" href="../loggers/">Loggers</a></li><li><a class="toctext" href="../handlers/">Handlers</a></li><li><a class="toctext" href="../formatters/">Formatters</a></li><li><a class="toctext" href="../records/">Records</a></li><li><a class="toctext" href="../io/">IO</a></li><li><a class="toctext" href="../conclusion/">Conclusion</a></li></ul></li><li><span class="toctext">FAQ</span><ul><li><a class="toctext" href="../../faq/another-logging-lib/">Another logging library?</a></li><li><a class="toctext" href="../../faq/change-colors/">Changing colors?</a></li><li><a class="toctext" href="../../faq/config-recipes/">Configuring Logging in Applications?</a></li><li><a class="toctext" href="../../faq/logging-to-syslog/">Logging to Syslog?</a></li><li><a class="toctext" href="../../faq/json-formatting/">Producing JSON logs?</a></li><li><a class="toctext" href="../../faq/pkg-usage/">Using Memento in Julia packages?</a></li><li><a class="toctext" href="../../faq/testing/">How do I test my logging behaviour?</a></li></ul></li><li><a class="toctext" href="../../api/">API</a></li><li><a class="toctext" href="../../contributing/">Contributing</a></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href>Introduction</a></li></ul><a class="edit-page" href="https://github.com/invenia/Memento.jl/blob/master/docs/src/man/intro.md#L"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Introduction</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Introduction-1" href="#Introduction-1">Introduction</a></h1><h2><a class="nav-anchor" id="Logging-levels-1" href="#Logging-levels-1">Logging levels</a></h2><p>You can globally set the minimum logging level with <a href="../../api/#Memento.config!"><code>Memento.config!</code></a>.</p><pre><code class="language-julia">julia&gt; Memento.config!(&quot;debug&quot;)</code></pre><p>Will log all messages for all loggers at or above &quot;debug&quot;.</p><pre><code class="language-julia">julia&gt; Memento.config!(&quot;warn&quot;)</code></pre><p>Will only log message at or above the &quot;warn&quot; level.</p><p>We can also set the logging level for specific loggers or collections of loggers if we explicitly set the level on an existing logger.</p><pre><code class="language-julia">julia&gt; setlevel!(getlogger(&quot;Main&quot;), &quot;info&quot;)</code></pre><p>Will only set the logging level to &quot;info&quot; for the &quot;Main&quot; logger and any future children of the &quot;Main&quot; logger.</p><p>By default Memento has 10 logging levels.</p><table><tr><th style="text-align: right">Level</th><th style="text-align: right">Number</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right">not_set</td><td style="text-align: right">0</td><td style="text-align: right">Will not log anything, but may still propagate messages to its parents.</td></tr><tr><td style="text-align: right">trace</td><td style="text-align: right">5</td><td style="text-align: right">Log messages only intended for tracing program execution.</td></tr><tr><td style="text-align: right">debug</td><td style="text-align: right">10</td><td style="text-align: right">Log verbose message used for debugging.</td></tr><tr><td style="text-align: right">info</td><td style="text-align: right">20</td><td style="text-align: right">Log general information about a program.</td></tr><tr><td style="text-align: right">notice</td><td style="text-align: right">30</td><td style="text-align: right">Log important events that are still part of normal execution.</td></tr><tr><td style="text-align: right">warn</td><td style="text-align: right">40</td><td style="text-align: right">Log warning that may cause the program to fail.</td></tr><tr><td style="text-align: right">error</td><td style="text-align: right">50</td><td style="text-align: right">Log errors and throw or rethrow an error.</td></tr><tr><td style="text-align: right">critical</td><td style="text-align: right">60</td><td style="text-align: right">Entire application has crashed.</td></tr><tr><td style="text-align: right">alert</td><td style="text-align: right">70</td><td style="text-align: right">The entire application crashed and is not recoverable. Probably need to wake up the sysadmin.</td></tr><tr><td style="text-align: right">emergency</td><td style="text-align: right">80</td><td style="text-align: right">System is unusable. Applications shouldn&#39;t need to call this so it may be removed in the future.</td></tr></table><h2><a class="nav-anchor" id="Formatting-logs-1" href="#Formatting-logs-1">Formatting logs</a></h2><p>Unless explicitly changed Memento will use a <a href="../../api/#Memento.DefaultFormatter"><code>DefaultFormatter</code></a> for handlers. This <a href="../../api/#Memento.Formatter"><code>Formatter</code></a> takes a format string for mapping log record fields into each log message. Desired fields are wrapped in curly brackets (ie: <code>&quot;{msg}&quot;</code>)</p><p>The default format string is <code>&quot;[{level} | {name}]: {msg}&quot;</code>, which produces messages that look like</p><pre><code class="language-none">[info | root]: my info message.
[warn | root]: my warning message.
...</code></pre><p>However, you could change this string to just <code>&quot;{level}: {msg}&quot;</code>, which would produce messages that look like</p><pre><code class="language-none">info: my info message.
warn: my warning message.
...</code></pre><p>The simplest way to globally change the log format is with <a href="../../api/#Memento.config!"><code>Memento.config!</code></a>:</p><pre><code class="language-julia">julia&gt; Memento.config!(&quot;debug&quot;; fmt=&quot;[{level} | {name}]: {msg}&quot;)</code></pre><p>The following fields are available via the <a href="../../api/#Memento.DefaultRecord"><code>DefaultRecord</code></a>.</p><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right">date</td><td style="text-align: right">The log event date rounded to seconds</td></tr><tr><td style="text-align: right">level</td><td style="text-align: right">The log event level as a string</td></tr><tr><td style="text-align: right">levelnum</td><td style="text-align: right">The integer value for the log event level</td></tr><tr><td style="text-align: right">msg</td><td style="text-align: right">The source log event message</td></tr><tr><td style="text-align: right">name</td><td style="text-align: right">The name of the source logger</td></tr><tr><td style="text-align: right">pid</td><td style="text-align: right">The pid where the log event occured</td></tr><tr><td style="text-align: right">lookup</td><td style="text-align: right">The top StackFrame of the stacktrace for the log event</td></tr><tr><td style="text-align: right">stacktrace</td><td style="text-align: right">A StackTrace for the log event</td></tr></table><p>For more details on the <a href="../../api/#Memento.DefaultFormatter"><code>DefaultFormatter</code></a> and <a href="../../api/#Memento.DefaultRecord"><code>DefaultRecord</code></a> please see the API docs. More general information on <a href="../formatters/#man_formatters-1"><code>Formatter</code>s</a> and <a href="../records/#man_records-1"><code>Record</code>s</a> will be discussed later in this manual.</p><h2><a class="nav-anchor" id="Architecture-1" href="#Architecture-1">Architecture</a></h2><p>Memento is a hierarchical logging library, meaning that loggers may have child loggers with their own configurations (e.g., levels, handlers, record types). By default, logs sent to child loggers propagate up to the root logger, allowing for a simple default configuration at the root. Memento.jl is designed to separate the responsibilities of logging in libraries (e.g., modules, packages) vs applications. In general, libraries should focus on logging relevant messages to a library specific child logger, and avoid configuring the child logger directly.</p><pre><code class="language-julia">module MyModule

using Memento

const LOGGER = getlogger(@__MODULE__)

__init__() = Memento.register(LOGGER)
noisy() = debug(LOGGER, &quot;LOUD NOISES!&quot;)
hello() = info(LOGGER, &quot;Hello World!&quot;)
danger() = warn(LOGGER, &quot;Danger Zone!&quot;)

end</code></pre><p>See the package usage <a href="../../faq/pkg-usage/#pkg_usage-1">docs</a> for details.</p><p>On the hand, applications are responsible for setting logging levels and attaching custom handlers to specific child loggers as needed.</p><pre><code class="language-julia">using Memento
using MyModule

# Configure global logging level and formatting
Memento.config!(&quot;info&quot;; fmt=&quot;[{level} | {name}]: {msg}&quot;)
push!(getlogger(&quot;MyModule&quot;), DefaultHandler(&quot;noisy.log&quot;))

# Will only log to noisy.log and not the console
MyModule.noisy()

# These will log to both noisy.log and the console
MyModule.hello()
MyModule.danger()</code></pre><p>See some of our <a href="../../faq/config-recipes/#config_recipes-1">configuration recipes</a> for more details.</p><p>There are five main components of Memento.jl that you can manipulate:</p><ol><li><a href="../loggers/#man_loggers-1">Loggers</a></li><li><a href="../handlers/#man_handlers-1">Handlers</a></li><li><a href="../formatters/#man_formatters-1">Formatters</a></li><li><a href="../records/#man_records-1">Records</a></li><li><a href="../io/#man_io-1">IO</a></li></ol><p>The remainder of this manual will discuss how you can use these components to customize Memento to you particular application.</p><footer><hr/><a class="previous" href="../../"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../loggers/"><span class="direction">Next</span><span class="title">Loggers</span></a></footer></article></body></html>
